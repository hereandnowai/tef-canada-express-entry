<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEF Compass - The Orientation</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/hereandnowai/images/refs/heads/main/logos/favicon-logo-with-name.png">
    <style>
        :root {
            --primary-color: #004040; /* HERE AND NOW Secondary */
            --accent-color: #FF0000;  /* Canadian Flag Red */
            --highlight-color: #FFDF00; /* HERE AND NOW Primary Yellow */
            --bg-color: #f4f4f9;
            --text-color: #333;
            --white: #ffffff;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Maple Leaf Falling Animation */
        .maple-leaf {
            position: fixed;
            top: -50px;
            font-size: 30px;
            color: #FF0000;
            opacity: 0.7;
            animation: fall linear infinite;
            z-index: 1;
            pointer-events: none;
        }

        @keyframes fall {
            0% {
                top: -50px;
                transform: translateX(0) rotate(0deg);
            }
            25% {
                transform: translateX(10px) rotate(90deg);
            }
            50% {
                transform: translateX(-10px) rotate(180deg);
            }
            75% {
                transform: translateX(10px) rotate(270deg);
            }
            100% {
                top: 110vh;
                transform: translateX(0) rotate(360deg);
            }
        }

        /* Container - 16:9 Widescreen (tightened to viewport edges) */
        .presentation-container {
            position: relative;
            width: 98vw; /* closer to edges */
            max-width: 1600px;
            height: calc(98vw * 9 / 16);
            max-height: 96vh;
            background: var(--white);
            box-shadow: 0 8px 20px rgba(255,0,0,0.12);
            border-radius: 6px; /* slightly smaller radius */
            overflow: hidden;
            border: 2px solid var(--accent-color); /* thinner border */
            z-index: 10;
        }

        @media (min-aspect-ratio: 16/9) {
            .presentation-container {
                height: 96vh;
                width: calc(96vh * 16 / 9);
            }
        }

        /* Header with Logo (moved to top-right to avoid overlap) */
        .header-logo {
            position: absolute;
            top: 12px; /* slightly closer to edge */
            right: 12px; /* slightly closer to edge */
            left: auto;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 200;
        }

        .header-logo img {
            height: 48px; /* slightly reduced size to avoid occupying too much corner space */
            width: auto;
            display: block;
        }

        /* Footer - Powered by AI */
        .footer-branding {
            position: absolute;
            bottom: 30px; /* align with page counter and controls */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: #666;
            z-index: 90;
            pointer-events: none; /* non-interactive to avoid accidental clicks */
        }

        .footer-branding img {
            height: 25px;
            width: auto;
        }

        .footer-branding a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }

        .footer-branding a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }

        /* Slider Wrapper */
        .slides-wrapper {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual Slide */
        .slide {
            min-width: 100%;
            height: 100%;
            padding: 20px 28px; /* smaller padding so content sits closer to border */
            overflow-y: auto;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Typography */
        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
        }

        h3 {
            color: var(--accent-color);
            margin-top: 15px;
            margin-bottom: 10px;
        }

        p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        /* Cards and Sections */
        .card-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid var(--primary-color);
            box-shadow: 0 2px 8px rgba(255,0,0,0.1);
        }

        .highlight-box {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
            border: 2px solid var(--accent-color);
        }

        .highlight-box strong {
            color: var(--accent-color);
            font-size: 1.3rem;
        }

        .canadian-banner {
            background: linear-gradient(90deg, #FF0000 0%, #ffffff 50%, #FF0000 100%);
            padding: 10px;
            text-align: center;
            font-weight: bold;
            color: #333;
            border-radius: 5px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(255,0,0,0.3);
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            width: 100%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: var(--accent-color);
            color: white;
            position: sticky;
            top: 0;
        }

        tr:nth-child(even) {background-color: #fff5f5;}

        /* Controls */
        .controls {
            position: absolute;
            bottom: 30px; /* align with page counter and footer-branding */
            right: 40px;
            display: flex;
            gap: 10px;
            z-index: 200;
            background: rgba(255,255,255,0.8);
            padding: 5px;
            border-radius: 50px;
        }

        button {
            padding: 10px 20px;
            border: none;
            background: var(--accent-color);
            color: white;
            cursor: pointer;
            border-radius: 20px;
            font-weight: bold;
            transition: background 0.3s;
            box-shadow: 0 2px 8px rgba(255,0,0,0.3);
        }

        button:hover {
            background: #cc0000;
            box-shadow: 0 4px 12px rgba(255,0,0,0.5);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .page-counter {
            position: absolute;
            bottom: 30px;
            left: 40px;
            font-size: 0.9rem;
            color: #666;
            font-weight: bold;
            z-index: 200;
        }

        /* Specific Visuals */
        .level-options {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            gap: 15px;
        }
        .level-btn {
            background: var(--white);
            border: 3px solid var(--accent-color);
            color: var(--primary-color);
            padding: 20px;
            width: 30%;
            text-align: center;
            border-radius: 10px;
            transition: all 0.3s;
            box-shadow: 0 2px 10px rgba(255,0,0,0.2);
        }

        .level-btn:hover {
            background: linear-gradient(135deg, #ffe0e0 0%, #ffffff 100%);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255,0,0,0.4);
        }

        .maple-icon {
            font-size: 2rem;
            color: var(--accent-color);
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .card-grid { grid-template-columns: 1fr; }
            .slide { padding: 20px 25px; }
            h1 { font-size: 1.5rem; }
            .level-options { flex-direction: column; gap: 10px; }
            .level-btn { width: 100%; }
        }
    </style>
</head>
<body>

<!-- Falling Maple Leaves -->
<div id="maple-leaves-container"></div>

<div class="presentation-container">
    <!-- Header with Language Institute Logo -->
    <div class="header-logo">
        <img src="https://raw.githubusercontent.com/hereandnowai/mc-hn-languages/refs/heads/main/logos_hn_languages/2021%20-%20HN%20Lang%20Logo%20%26%20name%20V3.0%20-%202021%20-%20version%20RR.png" alt="HERE AND NOW - The Language Institute">
    </div>
    
    <div class="slides-wrapper" id="slider">

        <!-- Slide 1: Intro -->
        <div class="slide">
            <div style="text-align: center; margin-top: auto; margin-bottom: auto;">
                <div class="maple-icon">üçÅ</div>
                <h1 style="font-size: 2.5rem; color: var(--accent-color);">TEF Compass</h1>
                <h2 style="color: var(--primary-color);">The Orientation</h2>
                <div class="canadian-banner">üçÅ Your Gateway to Canadian Immigration üçÅ</div>
                <br>
                <h3>How well are you informed on The Canadian Immigration Process?</h3>
                
                <div class="level-options">
                    <div class="level-btn">
                        <div class="maple-icon">üçÅ</div>
                        <strong>Beginner</strong><br>
                        "I am just beginning to learn the process"
                    </div>
                    <div class="level-btn">
                        <div class="maple-icon">üçÅ</div>
                        <strong>Intermediate</strong><br>
                        "I know until IELTS but I don't know much about TEF"
                    </div>
                    <div class="level-btn">
                        <div class="maple-icon">üçÅ</div>
                        <strong>Advanced</strong><br>
                        "I know everything, I would like to improve my CRS through TEF"
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 2: Programs Overview -->
        <div class="slide">
            <h1>üçÅ Canadian Immigration Programs</h1>
            <div class="canadian-banner">Over 60 Programs Available</div>
            <div class="highlight-box"><strong>üá®üá¶ Your Path to Canada Starts Here</strong></div>
            
            <h3>Popular Ones via Express Entry</h3>
            <ul>
                <li><strong>FSW (Federal Skilled Worker):</strong> Immigrate as a skilled worker.</li>
                <li><strong>Provincial Nominees:</strong> Immigrate by being nominated by a province/territory.</li>
                <li><strong>CEC (Canadian Experience Class):</strong> For those with Canadian work experience.</li>
                <li><strong>Quebec-selected skilled workers:</strong> For the province of Quebec.</li>
            </ul>

            <h3>Other Key Pilots & Streams</h3>
            <div class="card-grid">
                <div>
                    <ul>
                        <li>Family Sponsorship</li>
                        <li>Atlantic Immigration Pilot</li>
                        <li>Caregivers (Children/Elderly/Medical needs)</li>
                        <li>Start-up Visa</li>
                    </ul>
                </div>
                <div>
                    <ul>
                        <li>Self-employed (Cultural/Athletic)</li>
                        <li>Rural and Northern Immigration Pilot</li>
                        <li>Agri-Food Pilot</li>
                        <li>Refugees</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 3: Express Entry Breakdown -->
        <div class="slide">
            <h1>üçÅ Express Entry: CRS Criteria</h1>
            <div class="canadian-banner">Points-Based Immigration System</div>
            <p>Immigrate as a skilled worker. <br><strong style="color: var(--accent-color); font-size: 1.3rem;">Max Total: 1,200 points</strong></p>

            <h3>Core / Human Capital Factors (Max 500)</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Factor</th>
                            <th>With Spouse</th>
                            <th>Without Spouse</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Age</td>
                            <td>100 (up to 29 yrs)</td>
                            <td>110</td>
                        </tr>
                        <tr>
                            <td>Education</td>
                            <td>140 (+10 for spouse)</td>
                            <td>150</td>
                        </tr>
                        <tr>
                            <td>1st Official Language</td>
                            <td>128 (+20 for spouse)</td>
                            <td>136</td>
                        </tr>
                        <tr>
                            <td>2nd Official Language</td>
                            <td>22 max</td>
                            <td>24 max</td>
                        </tr>
                        <tr>
                            <td>Canadian Experience</td>
                            <td>70 (+10 for spouse)</td>
                            <td>80</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3>Skill Transferability (100 Points)</h3>
            <ul>
                <li>Education + Good Language: <strong>50 pts</strong></li>
                <li>Foreign Exp + Good Language (CLB 7+): <strong>50 pts</strong></li>
            </ul>
        </div>

        <!-- Slide 4: Additional Points -->
        <div class="slide">
            <h1>üçÅ CRS: Additional Points</h1>
            <div class="canadian-banner">Boost Your Score</div>
            <p>These factors can grant up to <strong style="color: var(--accent-color); font-size: 1.3rem;">600 points</strong>.</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Factors</th>
                        <th>Points</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Brother/Sister living in Canada (Citizen/PR)</td>
                        <td>15</td>
                    </tr>
                    <tr>
                        <td><strong>French Language Skills (Min CLB 7)</strong></td>
                        <td><strong>50</strong></td>
                    </tr>
                    <tr>
                        <td>Post-secondary education in Canada</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td>Arranged Employment</td>
                        <td>50 / 200</td>
                    </tr>
                    <tr>
                        <td>PN Nomination (Provincial Nominee)</td>
                        <td>600</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                CRS = Core Factors + Transferability + Additional Points
            </div>
        </div>

        <!-- Slide 5: Cut-off History -->
        <div class="slide">
            <h1>üçÅ Express Entry Cut-off History</h1>
            <div class="canadian-banner">Recent Invitation Rounds</div>
            <p>A snapshot of recent rounds - <strong style="color: var(--accent-color);">French proficiency opens doors!</strong></p>
            <div id="loading-message" style="text-align: center; padding: 20px; color: var(--primary-color);">
                <div style="font-size: 2rem;">‚è≥</div>
                <p>Loading latest Express Entry draws from IRCC...</p>
            </div>
            <div class="table-container" id="cutoff-table-container" style="max-height: 400px; overflow-y: auto; display: none;">
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Date</th>
                            <th>Round Type</th>
                            <th>CRS Score (Lowest)</th>
                            <th>Invitations</th>
                        </tr>
                    </thead>
                    <tbody id="cutoff-table-body">
                        <!-- Data will be populated dynamically -->
                    </tbody>
                </table>
            </div>
            <p id="update-timestamp" style="font-size: 0.8rem; color: #666; margin-top: 10px;"></p>
            <p><em>Note: French proficiency draws often have significantly lower cutoff scores.</em></p>
        </div>

        <!-- Slide 6: Case Study 1 -->
        <div class="slide">
            <h1>üçÅ The Master Key: Scenario 1</h1>
            <div class="canadian-banner">Real Success Story</div>
            <h2>Shruti MULVADI (27 yrs, Best Case)</h2>
            
            <div class="card-grid">
                <div class="card">
                    <h3>Current Status</h3>
                    <ul>
                        <li>Education: BE + PGD</li>
                        <li>Exp: 3 Years</li>
                        <li>English: CLB 10</li>
                    </ul>
                    <div class="highlight-box">Previous CRS: <strong>464</strong></div>
                </div>

                <div class="card" style="border-left-color: var(--accent-color);">
                    <h3>üçÅ With TEF Compass</h3>
                    <p>Achieving French CLB 7+</p>
                    <ul>
                        <li>üéØ French Points: +50</li>
                        <li>üìà Skill Transferability Boost</li>
                        <li>üí¨ Language Points Boost</li>
                        <li><strong style="color: var(--accent-color);">Total Boost: +62 pts</strong></li>
                    </ul>
                    <div class="highlight-box">New Potential CRS: <strong style="font-size: 1.5rem;">526 üéâ</strong></div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Case Study 2 -->
        <div class="slide">
            <h1>üçÅ The Master Key: Scenario 2</h1>
            <div class="canadian-banner">Common Path to Success</div>
            <h2>Mahesh T (33 yrs, Common Scenario)</h2>
            
            <div class="card-grid">
                <div class="card">
                    <h3>Current Status</h3>
                    <ul>
                        <li>Education: BE + PGD</li>
                        <li>Exp: 3 Years</li>
                        <li>English: CLB 9</li>
                    </ul>
                    <div class="highlight-box">Previous CRS: <strong>432</strong></div>
                </div>

                <div class="card" style="border-left-color: var(--accent-color);">
                    <h3>üçÅ With TEF Compass</h3>
                    <p><strong>Achieving French CLB 7</strong></p>
                    <p>Potential CRS boosted through TEF Compass <strong style="color: var(--accent-color);">(+62)</strong></p>
                    <br>
                    <div class="highlight-box">New Potential CRS: <strong style="font-size: 1.5rem;">494 üéâ</strong></div>
                </div>
            </div>
        </div>

        <!-- Slide 8: The Program -->
        <div class="slide">
            <div style="text-align: center; margin: auto;">
                <div class="maple-icon" style="font-size: 3rem;">üçÅ</div>
                <h1 style="color: var(--primary-color);">HERE AND NOW - The Language Institute</h1>
                <h2 style="color: var(--text-color); margin-bottom: 10px;">Proudly Presents</h2>
                <h2 style="font-size: 3rem; border: none; color: var(--accent-color);">TEF Compass</h2>
                <div class="canadian-banner" style="font-size: 1.2rem;">üá®üá¶ Your Bridge to Canadian Dreams üá®üá¶</div>
                <p style="font-size: 1.1rem; margin-top: 20px;">The Only Program You'd ever need to crack The TEF CANADA Exam.</p>
                <div class="highlight-box"><strong>From A1 to C2 - PUSH YOUR LIMITS</strong></div>
            </div>
        </div>

        <!-- Slide 9: CEFR Levels -->
        <div class="slide">
            <h1>üçÅ CEFR Levels Explained</h1>
            <div class="canadian-banner">European Framework for Language Proficiency</div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>A1</td><td>Basic user. Can introduce self and ask basic questions.</td></tr>
                        <tr><td>A2</td><td>Can communicate in simple, routine tasks (shopping, geography).</td></tr>
                        <tr><td>B1</td><td>Can deal with travel situations, describe experiences and dreams.</td></tr>
                        <tr><td>B2</td><td><strong>The Goal (CLB 7)</strong>. Can understand complex text, interact with fluency.</td></tr>
                        <tr><td>C1</td><td>Advanced. Flexible and effective language use for professional purposes.</td></tr>
                        <tr><td>C2</td><td>Mastery. Can understand virtually everything heard or read with ease.</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 10: Course Structure -->
        <div class="slide">
            <h1>üçÅ TEF Compass Program Details</h1>
            <div class="canadian-banner">Complete Learning Journey</div>
            
            <div class="card-grid">
                <div class="card">
                    <h3>Structure</h3>
                    <ul>
                        <li><strong>Level Covered:</strong> A1, A2, B1, B2 & TEF Pr√©p</li>
                        <li><strong>Possible Result:</strong> CLB 7+</li>
                        <li><strong>Duration:</strong> 270 Days / ~9-12 Months</li>
                        <li><strong>Mode:</strong> Online / Part-time</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Modules</h3>
                    <ol>
                        <li>Listening (Core)</li>
                        <li>Reading (Core)</li>
                        <li>Writing (Core)</li>
                        <li>Speaking (Core)</li>
                        <li>Grammar (Allied)</li>
                        <li>Phonetic (Allied)</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Slide 11: TEF Scoring & Conversion -->
        <div class="slide">
            <h1>üçÅ Score Conversion (TEF ‚Üí CLB ‚Üí CRS)</h1>
            <div class="canadian-banner">Understanding Your Score Impact</div>
            <p><strong style="color: var(--accent-color);">TEF Maximum Score per section: 699</strong></p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>TEF Score Range</th>
                            <th>CLB Level</th>
                            <th>CRS Core Boost</th>
                            <th>CRS Additional</th>
                            <th>Total Boost</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>533 - 699+ (C1/C2)</td>
                            <td>9 - 10+</td>
                            <td>24</td>
                            <td>50</td>
                            <td><strong>74</strong></td>
                        </tr>
                        <tr>
                            <td>450 - 532 (B2+)</td>
                            <td>8</td>
                            <td>15</td>
                            <td>50</td>
                            <td><strong>65</strong></td>
                        </tr>
                        <tr>
                            <td>400 - 449 (B2)</td>
                            <td>7 (Min Reqd)</td>
                            <td>12</td>
                            <td>50</td>
                            <td><strong>62</strong></td>
                        </tr>
                        <tr>
                            <td>310 - 348 (B1)</td>
                            <td>5</td>
                            <td>4</td>
                            <td>0</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td>0 - 309 (A1/A2)</td>
                            <td>< 5</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 12: Other Offerings -->
        <div class="slide">
            <h1>üçÅ Other Programs & Certification</h1>
            <div class="canadian-banner">Expand Your Options</div>
            <div class="card-grid">
                <div class="card">
                    <h3>Other Programs</h3>
                    <ul>
                        <li><strong>Immersion Program:</strong> 6 Months (A1-B2)</li>
                        <li><strong>Diploma in Business French:</strong> 12 Months</li>
                        <li><strong>Young Learners' Program:</strong> A1-B1</li>
                        <li><strong>Corporate French</strong></li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Certifications</h3>
                    <p>Students can obtain external certifications (Optional):</p>
                    <ul>
                        <li>DELF A1 - B2</li>
                        <li>DALF C1 - C2</li>
                    </ul>
                    <p>Internal Certification provided by <strong>Here and Now</strong>.</p>
                </div>
            </div>
        </div>

    </div> <!-- End Slider Wrapper -->

    <!-- Footer - Powered by AI -->
    <div class="footer-branding">
        <span>Powered by</span>
        <img src="https://raw.githubusercontent.com/hereandnowai/images/refs/heads/main/logos/logo-of-here-and-now-ai.png" alt="HERE AND NOW AI">
        <a href="https://hereandnowai.com" target="_blank"></a>
    </div>

    <div class="page-counter" id="pageCounter">Page 1 / 12</div>
    
    <div class="controls">
        <button id="prevBtn" disabled>&#8592; Previous</button>
        <button id="nextBtn">Next &#8594;</button>
    </div>
</div>

<script>
    // Maple Leaf Animation
    function createMapleLeaf() {
        const container = document.getElementById('maple-leaves-container');
        const leaf = document.createElement('div');
        leaf.className = 'maple-leaf';
        leaf.innerHTML = 'üçÅ';
        leaf.style.left = Math.random() * 100 + '%';
        leaf.style.fontSize = (Math.random() * 20 + 20) + 'px';
        leaf.style.animationDuration = (Math.random() * 5 + 8) + 's';
        leaf.style.animationDelay = Math.random() * 5 + 's';
        
        container.appendChild(leaf);
        
        // Remove leaf after animation
        setTimeout(() => {
            leaf.remove();
        }, 15000);
    }

    // Create multiple maple leaves
    for (let i = 0; i < 15; i++) {
        setTimeout(() => createMapleLeaf(), i * 800);
    }

    // Continue creating leaves
    setInterval(() => {
        createMapleLeaf();
    }, 3000);

    // Slider functionality
    const slider = document.getElementById('slider');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageCounter = document.getElementById('pageCounter');
    
    let currentIndex = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;

    function updateSlider() {
        // Move the slider using transform
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
        
        // Update Buttons
        prevBtn.disabled = currentIndex === 0;
        nextBtn.disabled = currentIndex === totalSlides - 1;
        
        // Update Counter
        pageCounter.innerText = `Page ${currentIndex + 1} / ${totalSlides}`;
    }

    function goToSlideFromHash() {
        const hash = window.location.hash;
        if (hash && hash.startsWith('#slide-')) {
            const slideNum = parseInt(hash.replace('#slide-', ''));
            if (!isNaN(slideNum) && slideNum >= 1 && slideNum <= totalSlides) {
                currentIndex = slideNum - 1;
                updateSlider();
            }
        }
    }

    nextBtn.addEventListener('click', () => {
        if (currentIndex < totalSlides - 1) {
            window.location.hash = 'slide-' + (currentIndex + 2);
        }
    });

    prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
            window.location.hash = 'slide-' + currentIndex;
        }
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' && currentIndex < totalSlides - 1) {
            window.location.hash = 'slide-' + (currentIndex + 2);
        }
        if (e.key === 'ArrowLeft' && currentIndex > 0) {
            window.location.hash = 'slide-' + currentIndex;
        }
    });

    window.addEventListener('hashchange', goToSlideFromHash);

    // Initialize
    if (window.location.hash) {
        goToSlideFromHash();
    } else {
        updateSlider();
    }

    // ========================================
    // Dynamic Express Entry Data Fetcher
    // ========================================
    async function fetchExpressEntryData() {
        const loadingMsg = document.getElementById('loading-message');
        const tableContainer = document.getElementById('cutoff-table-container');
        const tableBody = document.getElementById('cutoff-table-body');
        const timestamp = document.getElementById('update-timestamp');

        try {
            // Use CORS proxy to fetch IRCC page
            const corsProxy = 'https://api.allorigins.win/raw?url=';
            const irccUrl = encodeURIComponent('https://www.canada.ca/en/immigration-refugees-citizenship/corporate/mandate/policies-operational-instructions-agreements/ministerial-instructions/express-entry-rounds.html');
            
            const response = await fetch(corsProxy + irccUrl);
            
            if (!response.ok) {
                throw new Error('Failed to fetch data');
            }

            const html = await response.text();
            
            // Parse the HTML to extract table data
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            
            // The IRCC page uses a specific table structure - find it
            // Look for the table with Express Entry data
            const tables = doc.querySelectorAll('table');
            let drawsData = [];
            
            // Try to find the main data table by looking for specific headers
            for (let table of tables) {
                const headers = table.querySelectorAll('th');
                let hasRoundNumber = false;
                let hasDate = false;
                let hasCRS = false;
                
                headers.forEach(th => {
                    const text = th.textContent.toLowerCase();
                    if (text.includes('#') || text.includes('round')) hasRoundNumber = true;
                    if (text.includes('date')) hasDate = true;
                    if (text.includes('crs') || text.includes('score')) hasCRS = true;
                });
                
                // If this table has the right headers, parse it
                if (hasRoundNumber && hasDate && hasCRS) {
                    const rows = table.querySelectorAll('tbody tr');
                    rows.forEach((row, index) => {
                        if (index < 15) { // Get latest 15 draws
                            const cells = row.querySelectorAll('td');
                            if (cells.length >= 4) {
                                const roundNum = cells[0]?.textContent.trim() || 'N/A';
                                const dateText = cells[1]?.textContent.trim() || 'N/A';
                                const roundType = cells[2]?.textContent.trim() || 'N/A';
                                const crsScore = cells[3]?.textContent.trim() || 'N/A';
                                const invites = cells[4]?.textContent.trim() || 'N/A';
                                
                                // Only add if we have valid data
                                if (roundNum !== 'N/A' && crsScore !== 'N/A') {
                                    drawsData.push({
                                        number: roundNum,
                                        date: dateText,
                                        type: roundType,
                                        crs: crsScore,
                                        invitations: invites
                                    });
                                }
                            }
                        }
                    });
                    
                    if (drawsData.length > 0) break;
                }
            }

            // Fallback: If parsing failed, use cached/default data
            if (drawsData.length === 0) {
                console.warn('Failed to parse live data, using fallback');
                drawsData = getFallbackData();
            }

            // Populate table
            tableBody.innerHTML = '';
            drawsData.forEach((draw) => {
                const row = document.createElement('tr');
                
                // Highlight French language proficiency draws
                const isFrench = draw.type.toLowerCase().includes('french');
                const crsCell = isFrench ? `<strong style="color: var(--accent-color);">${draw.crs}</strong>` : draw.crs;
                
                row.innerHTML = `
                    <td>${draw.number}</td>
                    <td>${draw.date}</td>
                    <td>${draw.type}</td>
                    <td>${crsCell}</td>
                    <td>${draw.invitations}</td>
                `;
                tableBody.appendChild(row);
            });

            // Show table, hide loading
            loadingMsg.style.display = 'none';
            tableContainer.style.display = 'block';
            
            // Update timestamp with both ET and IST
            const nowET = new Date().toLocaleString('en-CA', { 
                timeZone: 'America/Toronto',
                dateStyle: 'medium',
                timeStyle: 'short'
            });
            const nowIST = new Date().toLocaleString('en-IN', { 
                timeZone: 'Asia/Kolkata',
                dateStyle: 'medium',
                timeStyle: 'short'
            });
            timestamp.textContent = `Last updated: ${nowET} (ET) | ${nowIST} (IST)`;

        } catch (error) {
            console.error('Error fetching Express Entry data:', error);
            
            // Show fallback data
            const fallbackData = getFallbackData();
            tableBody.innerHTML = '';
            fallbackData.forEach((draw) => {
                const row = document.createElement('tr');
                const isFrench = draw.type.toLowerCase().includes('french');
                const crsCell = isFrench ? `<strong style="color: var(--accent-color);">${draw.crs}</strong>` : draw.crs;
                
                row.innerHTML = `
                    <td>${draw.number}</td>
                    <td>${draw.date}</td>
                    <td>${draw.type}</td>
                    <td>${crsCell}</td>
                    <td>${draw.invitations}</td>
                `;
                tableBody.appendChild(row);
            });
            
            loadingMsg.innerHTML = '<p style="color: #ff6b6b;">‚ö†Ô∏è Using cached data (live fetch unavailable)</p>';
            setTimeout(() => {
                loadingMsg.style.display = 'none';
                tableContainer.style.display = 'block';
            }, 2000);
            
            // Update timestamp with both ET and IST for fallback
            const nowET = new Date().toLocaleString('en-CA', { 
                timeZone: 'America/Toronto',
                dateStyle: 'medium',
                timeStyle: 'short'
            });
            const nowIST = new Date().toLocaleString('en-IN', { 
                timeZone: 'Asia/Kolkata',
                dateStyle: 'medium',
                timeStyle: 'short'
            });
            timestamp.textContent = `Showing cached data | ${nowET} (ET) | ${nowIST} (IST)`;
        }
    }

    function getFallbackData() {
        return [
            { number: '385', date: 'December 11, 2025', type: 'Healthcare and social services occupations', crs: '476', invitations: '1,000' },
            { number: '384', date: 'December 10, 2025', type: 'Canadian Experience Class', crs: '520', invitations: '6,000' },
            { number: '383', date: 'December 8, 2025', type: 'Provincial Nominee Program', crs: '729', invitations: '1,123' },
            { number: '382', date: 'November 28, 2025', type: 'French language proficiency', crs: '408', invitations: '6,000' },
            { number: '381', date: 'November 26, 2025', type: 'Canadian Experience Class', crs: '531', invitations: '1,000' },
            { number: '380', date: 'November 25, 2025', type: 'Provincial Nominee Program', crs: '699', invitations: '777' },
            { number: '379', date: 'November 14, 2025', type: 'Healthcare and social services occupations', crs: '462', invitations: '3,500' },
            { number: '378', date: 'November 12, 2025', type: 'Canadian Experience Class', crs: '533', invitations: '1,000' },
            { number: '377', date: 'November 6, 2025', type: 'Provincial Nominee Program', crs: '711', invitations: '1,358' },
            { number: '376', date: 'October 31, 2025', type: 'French language proficiency', crs: '445', invitations: '800' }
        ];
    }

    // Fetch data when page loads
    window.addEventListener('load', fetchExpressEntryData);
</script>

</body>
</html>